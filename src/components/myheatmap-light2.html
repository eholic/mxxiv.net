<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=visualization&language=en"></script>
    <script>
// Adding 500 Data Points
var map, pointarray, heatmap;

var taxiData = [
      new google.maps.LatLng( 37.332520,  -121.885774     ) ,
      new google.maps.LatLng( 37.336252,  -121.884001     ) ,
      new google.maps.LatLng( 37.353803,  -121.999860     ) ,
      new google.maps.LatLng( 37.395332,  -122.099608     ) ,
      new google.maps.LatLng( 37.339246,  -121.938341     ) ,
      new google.maps.LatLng( 37.321343,  -121.950605     ) ,
      new google.maps.LatLng( 37.323684,  -121.935049     ) ,
      new google.maps.LatLng( 37.433033,  -122.170728     ) ,
      new google.maps.LatLng( 37.352046,  -121.984361     ) ,
      new google.maps.LatLng( 37.430001,  -122.173484     ) ,
      new google.maps.LatLng( 37.352140,  -121.979765     ) ,
      new google.maps.LatLng( 37.384919,  -121.948953     ) ,
      new google.maps.LatLng( 37.308850,  -121.899613     ) ,
      new google.maps.LatLng( 37.308379,  -121.901721     ) ,
      new google.maps.LatLng( 37.322535,  -122.034689     ) ,
      new google.maps.LatLng( 37.304152,  -121.897497     ) ,
      new google.maps.LatLng( 37.304742,  -121.897904     ) ,
      new google.maps.LatLng( 37.305707,  -121.899565     ) ,
      new google.maps.LatLng( 37.375586,  -122.092791     ) ,
      new google.maps.LatLng( 37.371324,  -122.082147     ) ,
      new google.maps.LatLng( 37.384721,  -121.995156     ) ,
      new google.maps.LatLng( 37.346706,  -121.955233     ) ,
      new google.maps.LatLng( 37.315020,  -122.058717     ) ,
      new google.maps.LatLng( 37.344431,  -121.932552     ) ,
      new google.maps.LatLng( 37.287165,  -121.949957     ) ,
      new google.maps.LatLng( 37.292033,  -121.939015     ) ,
      new google.maps.LatLng( 37.256614,  -122.035250     ) ,
      new google.maps.LatLng( 37.308280,  -121.901174     ) ,
      new google.maps.LatLng( 37.402585,  -121.953044     ) ,
      new google.maps.LatLng( 37.386431,  -121.990661     ) ,
      new google.maps.LatLng( 37.372118,  -122.053488     ) ,
      new google.maps.LatLng( 37.374123,  -122.055687     ) ,
      new google.maps.LatLng( 37.375206,  -122.057998     ) ,
      new google.maps.LatLng( 37.336077,  -121.893770     ) ,
      new google.maps.LatLng( 37.376400,  -122.030015     ) ,
      new google.maps.LatLng( 37.306649,  -121.891799     ) ,
      new google.maps.LatLng( 37.303865,  -121.897210     ) ,
      new google.maps.LatLng( 37.288587,  -121.991877     ) ,
      new google.maps.LatLng( 37.292143,  -121.989208     ) ,
      new google.maps.LatLng( 37.383054,  -121.996806     ) ,
      new google.maps.LatLng( 37.318171,  -122.031522     ) ,
      new google.maps.LatLng( 37.353051,  -121.960189     ) ,
      new google.maps.LatLng( 37.447411,  -122.159647     ) ,
      new google.maps.LatLng( 37.428204,  -122.175624     ) ,
      new google.maps.LatLng( 37.357230,  -121.934017     ) ,
      new google.maps.LatLng( 37.352043,  -121.981957     ) ,
      new google.maps.LatLng( 37.383646,  -122.012864     ) ,
      new google.maps.LatLng( 37.365978,  -121.914926     ) ,
      new google.maps.LatLng( 37.378751,  -121.995158     ) ,
      new google.maps.LatLng( 36.555239,  -121.923288     ) ,
      new google.maps.LatLng( 36.603693,  -121.945125     ) ,
      new google.maps.LatLng( 37.868149,  -122.497838     ) ,
      new google.maps.LatLng( 37.788178,  -122.404944     ) ,
      new google.maps.LatLng( 37.783944,  -122.401289     ) ,
      new google.maps.LatLng( 37.545544,  -122.291366     ) ,
      new google.maps.LatLng( 37.408692,  -122.077772     ) ,
      new google.maps.LatLng( 37.307399,  -122.032838     ) ,
      new google.maps.LatLng( 37.393246,  -122.079095     ) ,
      new google.maps.LatLng( 37.321110,  -121.949299     ) ,
      new google.maps.LatLng( 37.321519,  -121.971911     ) ,
      new google.maps.LatLng( 37.323525,  -121.992182     ) ,
      new google.maps.LatLng( 37.293089,  -121.987238     ) ,
      new google.maps.LatLng( 37.323529,  -121.983641     ) ,
      new google.maps.LatLng( 37.380182,  -121.959819     ) ,
      new google.maps.LatLng( 37.388655,  -121.984471     ) ,
      new google.maps.LatLng( 37.288666,  -121.951942     ) ,
      new google.maps.LatLng( 37.776439,  -122.394323     ) ,
      new google.maps.LatLng( 37.378427,  -122.030742     ) ,
      new google.maps.LatLng( 37.329185,  -121.888815     ) ,
      new google.maps.LatLng( 37.330609,  -121.885988     ) ,
      new google.maps.LatLng( 37.329637,  -121.892517     ) ,
      new google.maps.LatLng( 37.331774,  -121.885538     ) ,
      new google.maps.LatLng( 37.339144,  -121.994808     ) ,
      new google.maps.LatLng( 37.858327,  -122.485106     ) ,
      new google.maps.LatLng( 37.807776,  -122.474896     ) ,
      new google.maps.LatLng( 37.489948,  -119.970368     ) ,
      new google.maps.LatLng( 37.250360,  -121.961261     ) ,
      new google.maps.LatLng( 37.235307,  -121.972075     ) ,
      new google.maps.LatLng( 37.867538,  -122.264930     ) ,
      new google.maps.LatLng( 37.872062,  -122.257812     ) ,
      new google.maps.LatLng( 37.503592,  -122.482088     ) ,
      new google.maps.LatLng( 37.394772,  -121.947616     ) ,
      new google.maps.LatLng( 37.418048,  -121.897875     ) ,
      new google.maps.LatLng( 37.331329,  -122.031758     ) ,
      new google.maps.LatLng( 37.874062,  -122.237382     ) ,
      new google.maps.LatLng( 37.827698,  -122.481783     ) ,
      new google.maps.LatLng( 37.832826,  -122.480283     ) ,
      new google.maps.LatLng( 37.444722,  -122.135088     ) ,
      new google.maps.LatLng( 38.255094,  -122.351008     ) ,
      new google.maps.LatLng( 37.459881,  -122.135526     ) ,
      new google.maps.LatLng( 37.400643,  -122.093622     ) ,
      new google.maps.LatLng( 38.441093,  -122.410043     ) ,
      new google.maps.LatLng( 38.301309,  -122.286837     ) ,
      new google.maps.LatLng( 38.531943,  -122.498009     ) ,
      new google.maps.LatLng( 37.809949,  -122.416420     ) ,
      new google.maps.LatLng( 37.462630,  -122.161617     ) ,
      new google.maps.LatLng( 38.214149,  -119.004601     ) ,
      new google.maps.LatLng( 37.427551,  -122.166899     ) ,
      new google.maps.LatLng( 37.430006,  -122.163805     ) ,
      new google.maps.LatLng( 37.377214,  -122.117746     ) ,
      new google.maps.LatLng( 37.881675,  -121.913847     ) ,
      new google.maps.LatLng( 37.456593,  -122.188326     ) ,
      new google.maps.LatLng( 38.441466,  -122.399630     ) ,
      new google.maps.LatLng( 37.807818,  -122.404641     ) ,
      new google.maps.LatLng( 37.333428,  -122.014897     ) ,
      new google.maps.LatLng( 36.600238,  -121.894676     ) ,
      new google.maps.LatLng( 37.406391,  -121.939478     ) ,
      new google.maps.LatLng( 37.320967,  -121.970927     ) ,
      new google.maps.LatLng( 37.418467,  -122.087979     ) ,
      new google.maps.LatLng( 37.421989,  -122.084107     ) ,
      new google.maps.LatLng( 37.351426,  -121.981869     ) ,
      new google.maps.LatLng( 37.425851,  -122.072301     ) ,
      new google.maps.LatLng( 37.313397,  -121.976708     ) ,
      new google.maps.LatLng( 37.351535,  -121.992925     ) ,
      new google.maps.LatLng( 37.367030,  -122.013395     ) ,
      new google.maps.LatLng( 37.394722,  -122.080610     ) ,
      new google.maps.LatLng( 37.750333,  -122.203069     ) ,
      new google.maps.LatLng( 38.438071,  -122.575690     ) ,
      new google.maps.LatLng( 38.659143,  -122.885608     ) ,
      new google.maps.LatLng( 37.338884,  -121.972795     ) ,
      new google.maps.LatLng( 37.323091,  -121.936501     ) ,
      new google.maps.LatLng( 37.367728,  -122.036109     ) ,
      new google.maps.LatLng( 37.404580,  -121.975238     ) ,
      new google.maps.LatLng( 37.335438,  -121.884972     ) ,
      new google.maps.LatLng( 37.325948,  -121.945341     ) ,
      new google.maps.LatLng( 37.783920,  -122.407596     ) ,
      new google.maps.LatLng( 37.785334,  -122.407674     ) ,
      new google.maps.LatLng( 37.332658,  -121.888428     ) ,
      new google.maps.LatLng( 37.379544,  -122.114726     ) ,
      new google.maps.LatLng( 37.769220,  -122.448139     ) ,
      new google.maps.LatLng( 37.379167,  -122.116660     ) ,
      new google.maps.LatLng( 37.408841,  -122.064443     ) ,
      new google.maps.LatLng( 37.351970,  -121.959869     ) ,
      new google.maps.LatLng( 37.380215,  -121.959821     ) ,
      new google.maps.LatLng( 37.376275,  -122.030144     ) ,
      new google.maps.LatLng( 37.323665,  -121.972539     ) ,
      new google.maps.LatLng( 37.351446,  -121.981177     ) ,
      new google.maps.LatLng( 29.992201,  -90.2590110     ) ,
      new google.maps.LatLng( 29.935849,  -90.0717430     ) ,
      new google.maps.LatLng( 29.955837,  -90.0684270     ) ,
      new google.maps.LatLng( 29.958582,  -90.0658010     ) ,
      new google.maps.LatLng( 29.964068,  -90.0576590     ) ,
      new google.maps.LatLng( 29.957539,  -90.0617820     ) ,
      new google.maps.LatLng( 29.953227,  -90.0764520     ) ,
      new google.maps.LatLng( 40.747992,  -74.0047650     ) ,
      new google.maps.LatLng( 40.742544,  -74.0060640     ) ,
      new google.maps.LatLng( 40.760329,  -73.9761800     ) ,
      new google.maps.LatLng( 40.761433,  -73.9776220     ) ,
      new google.maps.LatLng( 40.713721,  -73.9461320     ) ,
      new google.maps.LatLng( 40.708359,  -73.9577570     ) ,
      new google.maps.LatLng( 40.706086,  -73.9968640     ) ,
      new google.maps.LatLng( 40.703278,  -74.0170280     ) ,
      new google.maps.LatLng( 40.811550,  -73.946477      ) ,
      new google.maps.LatLng( 29.951061,  -90.0812440     ) ,
      new google.maps.LatLng( 29.941925,  -90.0634390     ) ,
      new google.maps.LatLng( 40.758740,  -73.9786740     ) ,
      new google.maps.LatLng( 40.713968,  -73.9563180     ) ,
      new google.maps.LatLng( 40.764331,  -73.9876600     ) ,
      new google.maps.LatLng( 40.716907,  -73.9946650     ) ,
      new google.maps.LatLng( 40.758895,  -73.9851310     ) ,
      new google.maps.LatLng( 37.325592,  -121.812827     ) ,
      new google.maps.LatLng( 37.636850,  -122.400559     ) ,
      new google.maps.LatLng( 33.657748,  -117.901519     ) ,
      new google.maps.LatLng( 33.648002,  -117.911017     ) ,
      new google.maps.LatLng( 37.353376,  -122.000330     ) ,
      new google.maps.LatLng( 33.676190,  -117.867476     ) ,
      new google.maps.LatLng( 33.683124,  -117.884437     ) ,
      new google.maps.LatLng( 37.421884,  -121.916337     ) ,
      new google.maps.LatLng( 37.321430,  -122.031384     ) ,
      new google.maps.LatLng( 38.293248,  -122.449131     ) ,
      new google.maps.LatLng( 37.771469,  -122.468675     ) ,
      new google.maps.LatLng( 37.784466,  -122.500842     ) ,
      new google.maps.LatLng( 37.366249,  -122.015838     ) ,
      new google.maps.LatLng( 37.402635,  -121.911423     ) ,
      new google.maps.LatLng( 37.336508,  -121.894318     ) ,
      new google.maps.LatLng( 37.361488,  -122.041801     ) ,
      new google.maps.LatLng( 37.415761,  -121.897146     ) ,
      new google.maps.LatLng( 37.357879,  -122.021359     ) ,
      new google.maps.LatLng( 37.352655,  -121.991794     ) ,
      new google.maps.LatLng( 38.292720,  -122.456240     ) ,
      new google.maps.LatLng( 38.292388,  -122.459074     ) ,
      new google.maps.LatLng( 38.260490,  -122.441352     ) ,
      new google.maps.LatLng( 38.291859,  -122.458035     ) ,
      new google.maps.LatLng( 38.470432,  -122.429213     ) ,
      new google.maps.LatLng( 38.488982,  -122.448134     ) ,
      new google.maps.LatLng( 38.272179,  -122.662622     ) ,
      new google.maps.LatLng( 38.529472,  -122.490679     ) ,
      new google.maps.LatLng( 37.874483,  -122.257254     ) ,
      new google.maps.LatLng( 37.874864,  -122.258287     ) ,
      new google.maps.LatLng( 37.875173,  -122.261179     ) ,
      new google.maps.LatLng( 37.403375,  -121.968855     ) ,
      new google.maps.LatLng( 37.353594,  -122.051403     ) ,
      new google.maps.LatLng( 37.360382,  -121.909024     ) ,
      new google.maps.LatLng( 37.778487,  -122.397098     ) ,
      new google.maps.LatLng( 37.394165,  -122.079123     ) ,
      new google.maps.LatLng( 37.388742,  -122.004668     ) ,
      new google.maps.LatLng( 37.351936,  -121.990962     ) ,
      new google.maps.LatLng( 37.698825,  -121.845220     ) ,
      new google.maps.LatLng( 37.664391,  -121.725027     ) ,
      new google.maps.LatLng( 37.666258,  -121.739722     ) ,
      new google.maps.LatLng( 37.681206,  -121.769521     ) ,
      new google.maps.LatLng( 37.770204,  -122.470158     ) ,
      new google.maps.LatLng( 37.787930,  -122.446798     ) ,
      new google.maps.LatLng( 37.797614,  -122.406612     ) ,
      new google.maps.LatLng( 37.758032,  -122.390585     ) ,
      new google.maps.LatLng( 37.785211,  -122.406179     ) ,
      new google.maps.LatLng( 37.785211,  -122.406179     ) ,
      new google.maps.LatLng( 37.808392,  -122.416256     ) ,
      new google.maps.LatLng( 37.784143,  -122.407361     ) ,
      new google.maps.LatLng( 37.782432,  -122.407750     ) ,
      new google.maps.LatLng( 37.807672,  -122.414861     ) ,
      new google.maps.LatLng( 37.369981,  -122.042521     ) ,
      new google.maps.LatLng( 37.323957,  -121.993613     ) ,
      new google.maps.LatLng( 37.392306,  -122.078298     ) ,
      new google.maps.LatLng( 37.369943,  -122.041718     ) ,
      new google.maps.LatLng( 37.807248,  -122.417559     ) ,
      new google.maps.LatLng( 37.788813,  -122.408698     ) ,
      new google.maps.LatLng( 37.801550,  -122.409599     ) ,
      new google.maps.LatLng( 37.546170,  -122.302160     ) ,
      new google.maps.LatLng( 37.457254,  -122.175911     ) ,
      new google.maps.LatLng( 37.284700,  -121.811100     ) ,
      new google.maps.LatLng( 29.950998,  -90.0673710     ) ,
      new google.maps.LatLng( 29.952705,  -90.0674040     ) ,
      new google.maps.LatLng( 37.348463,  -121.895421     ) ,
      new google.maps.LatLng( 37.403450,  -121.927814     ) ,
      new google.maps.LatLng( 37.800728,  -122.438782     ) ,
      new google.maps.LatLng( 37.769515,  -122.510212     ) ,
      new google.maps.LatLng( 37.778485,  -122.513963     ) ,
      new google.maps.LatLng( 37.799816,  -122.454875     ) ,
      new google.maps.LatLng( 36.958976,  -122.018498     ) ,
      new google.maps.LatLng( 36.959638,  -122.019435     ) ,
      new google.maps.LatLng( 40.641311,  -73.7781390     ) ,
      new google.maps.LatLng( 37.475360,  -121.937796     ) ,
      new google.maps.LatLng( 37.560421,  -122.273818     ) ,
      new google.maps.LatLng( 37.318520,  -121.910822     ) ,
      new google.maps.LatLng( 37.389245,  -121.982890     ) ,
      new google.maps.LatLng( 37.589082,  -122.323638     ) ,
      new google.maps.LatLng( 37.406382,  -122.092233     ) ,
      new google.maps.LatLng( 37.414762,  -122.013302     ) ,
      new google.maps.LatLng( 37.383088,  -121.995359     ) ,
      new google.maps.LatLng( 37.382412,  -121.995111     ) ,
      new google.maps.LatLng( 37.332272,  -121.858040     ) ,
      new google.maps.LatLng( 37.352823,  -121.965519     ) ,
      new google.maps.LatLng( 37.389627,  -121.984106     ) ,
      new google.maps.LatLng( 36.918178,  -111.459292     ) ,
      new google.maps.LatLng( 37.794797,  -122.411745     ) ,
      new google.maps.LatLng( 36.361475,  -121.856261     ) ,
      new google.maps.LatLng( 37.798494,  -122.166068     ) ,
      new google.maps.LatLng( 35.972112,  -112.127697     ) ,
      new google.maps.LatLng( 36.011200,  -113.811219     ) ,
      new google.maps.LatLng( 36.879431,  -111.512394     ) ,
      new google.maps.LatLng( 37.294939,  -122.090746     ) ,
      new google.maps.LatLng( 37.414274,  -122.077409     ) ,
      new google.maps.LatLng( 37.299730,  -122.115763     ) ,
      new google.maps.LatLng( 37.485074,  -122.148814     ) ,
      new google.maps.LatLng( 37.485074,  -122.148814     ) ,
      new google.maps.LatLng( 37.602636,  -122.374677     ) ,
      new google.maps.LatLng( 37.366659,  -122.032070     ) ,
      new google.maps.LatLng( 37.351471,  -121.981382     ) ,
      new google.maps.LatLng( 37.784097,  -119.124312     ) ,
      new google.maps.LatLng( 37.367770,  -122.033122     ) ,
      new google.maps.LatLng( 37.367185,  -122.033479     ) ,
      new google.maps.LatLng( 37.316574,  -121.977219     ) ,
      new google.maps.LatLng( 37.323795,  -121.981547     ) ,
      new google.maps.LatLng( 47.612401,  -122.338386     ) ,
      new google.maps.LatLng( 47.609582,  -122.341876     ) ,
      new google.maps.LatLng( 47.610015,  -122.342390     ) ,
      new google.maps.LatLng( 37.779783,  -119.075423     ) ,
      new google.maps.LatLng( 47.611703,  -122.332762     ) ,
      new google.maps.LatLng( 47.608246,  -122.336166     ) ,
      new google.maps.LatLng( 47.645631,  -122.334353     ) ,
      new google.maps.LatLng( 47.629547,  -122.360137     ) ,
      new google.maps.LatLng( 47.518405,  -122.295813     ) ,
      new google.maps.LatLng( 47.608593,  -122.340928     ) ,
      new google.maps.LatLng( 47.613865,  -122.319024     ) ,
      new google.maps.LatLng( 47.621482,  -122.348124     ) ,
      new google.maps.LatLng( 47.608955,  -122.340553     ) ,
      new google.maps.LatLng( 47.610093,  -122.342611     ) ,
      new google.maps.LatLng( 37.384145,  -121.995231     ) ,
      new google.maps.LatLng( 37.414810,  -122.149809     ) ,
      new google.maps.LatLng( 37.323468,  -121.970381     ) ,
      new google.maps.LatLng( 37.323980,  -121.965263     ) ,
      new google.maps.LatLng( 37.323980,  -121.965263     ) ,
      new google.maps.LatLng( 37.355253,  -122.010575     ) ,
      new google.maps.LatLng( 37.406136,  -121.971784     ) ,
      new google.maps.LatLng( 37.331504,  -121.964730     ) ,
      new google.maps.LatLng( 37.258012,  -122.033637     ) ,
      new google.maps.LatLng( 37.800856,  -122.398635     ) ,
      new google.maps.LatLng( 37.253926,  -122.039452     ) ,
      new google.maps.LatLng( 37.335934,  -121.892790     ) ,
      new google.maps.LatLng( 37.323303,  -122.029152     ) ,
      new google.maps.LatLng( 37.367785,  -121.920063     ) ,
      new google.maps.LatLng( 37.352393,  -121.935448     ) ,
      new google.maps.LatLng( 37.367671,  -122.033512     ) ,
      new google.maps.LatLng( 37.384430,  -122.010664     ) ,
      new google.maps.LatLng( 37.384229,  -122.007752     ) ,
      new google.maps.LatLng( 37.319008,  -121.974157     ) ,
      new google.maps.LatLng( 37.351515,  -122.005856     ) ,
      new google.maps.LatLng( 37.401208,  -122.114782     ) ,
      new google.maps.LatLng( 37.423126,  -122.179926     ) ,
      new google.maps.LatLng( 36.011984,  -113.811166     ) ,
      new google.maps.LatLng( 36.011984,  -113.811166     ) ,
      new google.maps.LatLng( 36.011984,  -113.811166     ) ,
      new google.maps.LatLng( 36.056198,  -112.125202     ) ,
      new google.maps.LatLng( 36.914722,  -111.455833     ) ,
      new google.maps.LatLng( 36.106965,  -112.112997     ) ,
      new google.maps.LatLng( 37.250699,  -121.856701     ) ,
      new google.maps.LatLng( 37.315492,  -121.949668     ) ,
      new google.maps.LatLng( 37.388189,  -121.953266     ) ,
      new google.maps.LatLng( 37.348767,  -121.947769     ) ,
      new google.maps.LatLng( 37.378356,  -121.891836     ) ,
      new google.maps.LatLng( 37.787994,  -122.407437     ) ,
      new google.maps.LatLng( 37.795555,  -122.393532     ) ,
      new google.maps.LatLng( 37.776287,  -122.434666     ) ,
      new google.maps.LatLng( 37.792073,  -122.413418     ) ,
      new google.maps.LatLng( 37.802395,  -122.405822     ) ,
      new google.maps.LatLng( 37.802139,  -122.418740     ) ,
      new google.maps.LatLng( 37.805830,  -122.423012     ) ,
      new google.maps.LatLng( 37.806624,  -122.439114     ) ,
      new google.maps.LatLng( 37.802625,  -122.449027     ) ,
      new google.maps.LatLng( 37.322686,  -121.963244     ) ,
      new google.maps.LatLng( 37.322631,  -122.041065     ) ,
      new google.maps.LatLng( 37.314663,  -121.975390     ) ,
      new google.maps.LatLng( 37.233815,  -121.978016     ) ,
      new google.maps.LatLng( 47.613771,  -122.336853     ) ,
      new google.maps.LatLng( 37.352841,  -122.001530     ) ,
      new google.maps.LatLng( 37.240811,  -121.842084     ) ,
      new google.maps.LatLng( 37.080378,  -121.796469     ) ,
      new google.maps.LatLng( 37.345823,  -121.991031     ) ,
      new google.maps.LatLng( 37.341925,  -121.975038     ) ,
      new google.maps.LatLng( 37.288427,  -121.989980     ) ,
      new google.maps.LatLng( 37.288427,  -121.989980     ) ,
      new google.maps.LatLng( 37.325909,  -122.015454     ) ,
      new google.maps.LatLng( 37.313083,  -122.022477     ) ,
      new google.maps.LatLng( 37.375275,  -122.057957     ) ,
      new google.maps.LatLng( 37.430523,  -122.085589     ) ,
      new google.maps.LatLng( 37.352947,  -121.991799     ) ,
      new google.maps.LatLng( 37.353842,  -121.994871     ) ,
      new google.maps.LatLng( 37.351296,  -122.000111     ) ,
      new google.maps.LatLng( 37.376938,  -122.031253     ) ,
      new google.maps.LatLng( 47.623396,  -122.355769     ) ,
      new google.maps.LatLng( 37.356601,  -122.017195     ) ,
      new google.maps.LatLng( 37.352640,  -122.007798     ) ,
      new google.maps.LatLng( 37.363947,  -121.928937     ) ,
      new google.maps.LatLng( 37.601407,  -122.067188     ) ,
      new google.maps.LatLng( 38.607477,  -122.870490     ) ,
      new google.maps.LatLng( 38.398126,  -122.364353     ) ,
      new google.maps.LatLng( 38.474208,  -122.402233     ) ,
      new google.maps.LatLng( 37.337902,  -121.975161     ) ,
      new google.maps.LatLng( 37.369040,  -122.037890     ) ,
      new google.maps.LatLng( 37.392914,  -121.977351     ) ,
      new google.maps.LatLng( 37.856388,  -122.480032     ) ,
      new google.maps.LatLng( 35.672302,  139.765717      ) 
];

function initialize() {
  var mapOptions = {
    zoom: 11,
    center: new google.maps.LatLng(37.3493290, -121.9951880),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  var pointArray = new google.maps.MVCArray(taxiData);

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: pointArray,
    maxIntensity: 10,
    opacity: 0.9
  });

  heatmap.setMap(map);
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 40);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.7);
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>

  <body>
    <div id="panel">
      <button onclick="toggleHeatmap()">Toggle Heatmap</button>
      <button onclick="changeGradient()">Change gradient</button>
      <button onclick="changeRadius()">Change radius</button>
      <button onclick="changeOpacity()">Change opacity</button>
    </div>
    <div id="map-canvas"></div>
  </body>
</html>

